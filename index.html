<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Rocord Deploy</title>
    <meta property="og:type" content="website"> 
    <meta property="og:title" content="Rocord Deploy">
    <meta property="og:description" content="í•œêµ­ ì‹œìŠ¤í…œ ë¬´ë°°ì˜ ì‹œì‘, Rocord ê³µì‹ì‚¬ì´íŠ¸">
    <meta name="theme-color" content="#5865F2">

    <style>
        @font-face { font-family: 'Daeojamjil'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/TheJamsil3Regular.woff2') format('woff2'); font-weight: 400; font-display: swap; }
        @font-face { font-family: 'Daeojamjil'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/TheJamsil5Bold.woff2') format('woff2'); font-weight: 700; font-display: swap; }
        @font-face { font-family: 'Daeojamjil'; src: url('https://cdn.jsdelivr.net/gh/projectnoonnu/noonfonts_2302_01@1.0/TheJamsil6ExtraBold.woff2') format('woff2'); font-weight: 800; font-display: swap; }

        * { margin: 0; padding: 0; box-sizing: border-box; font-family: 'Daeojamjil', sans-serif; -webkit-tap-highlight-color: transparent; }
        body { background-color: #ffffff; color: #1a1a1a; line-height: 1.6; word-break: keep-all; padding-top: 60px; transition: padding-top 0.5s ease-in-out; position: relative; }
        ul { list-style: none; }
        a { text-decoration: none; color: inherit; }
        button { border: none; background: none; cursor: pointer; }

        /* Header */
        header { position: fixed; top: 0; width: 100%; height: 60px; padding: 0 40px; display: flex; justify-content: space-between; align-items: center; z-index: 1000; backdrop-filter: blur(15px); background: rgba(255, 255, 255, 0.95); border-bottom: 1px solid rgba(0,0,0,0.05); transition: top 0.5s ease-in-out; }
        .logo-container svg { height: 24px; width: auto; display: block; cursor: pointer; }

        .header-right { display: flex; align-items: center; gap: 20px; }
        .nav-links { display: flex; gap: 20px; }
        .nav-links a { font-size: 0.95rem; font-weight: 500; transition: color 0.3s; }
        .nav-links a:hover { color: #5865F2; }

        .hamburger-btn { display: none; width: 24px; height: 24px; position: relative; z-index: 1100; }
        .hamburger-btn span { display: block; width: 100%; height: 2px; background: #1a1a1a; position: absolute; left: 0; transition: 0.3s; }
        .hamburger-btn span:nth-child(1) { top: 4px; }
        .hamburger-btn span:nth-child(2) { top: 11px; }
        .hamburger-btn span:nth-child(3) { top: 18px; }
        .hamburger-btn.active span:nth-child(1) { top: 11px; transform: rotate(45deg); }
        .hamburger-btn.active span:nth-child(2) { opacity: 0; }
        .hamburger-btn.active span:nth-child(3) { top: 11px; transform: rotate(-45deg); }

        .mobile-menu { position: fixed; top: 60px; left: 0; width: 100%; background: #fff; box-shadow: 0 4px 10px rgba(0,0,0,0.1); padding: 20px 0; display: flex; flex-direction: column; align-items: center; gap: 15px; transform: translateY(-150%); transition: transform 0.3s ease-in-out, top 0.5s ease-in-out; z-index: 999; }
        .mobile-menu.active { transform: translateY(0); }
        .mobile-menu a { font-size: 1.1rem; font-weight: 700; width: 100%; text-align: center; padding: 10px 0; }

        .login-trigger-btn { background: #1a1a1a; color: #fff; padding: 8px 20px; border-radius: 50px; font-size: 0.85rem; font-weight: 700; transition: 0.3s; display: flex; align-items: center; gap: 8px; max-width: 150px; }
        .login-trigger-btn:hover { background: #333; transform: translateY(-2px); }
        .profile-name { display: inline-block; max-width: 80px; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; vertical-align: middle; }
        .user-avatar { width: 24px; height: 24px; border-radius: 50%; display: none; }

        .user-dropdown { position: absolute; top: 60px; right: 40px; width: 260px; background: #fff; border-radius: 12px; box-shadow: 0 5px 20px rgba(0,0,0,0.15); padding: 20px; display: none; flex-direction: column; gap: 15px; border: 1px solid #eee; z-index: 1002; transition: top 0.5s ease-in-out; }
        .user-dropdown.active { display: flex; }
        .dropdown-profile-header { display: flex; align-items: center; gap: 12px; border-bottom: 1px solid #eee; padding-bottom: 15px; }
        .dropdown-avatar-large { width: 50px; height: 50px; border-radius: 50%; background: #eee; object-fit: cover; }
        .dropdown-text-info { display: flex; flex-direction: column; overflow: hidden; }
        .dropdown-name { font-weight: 800; font-size: 1rem; color: #1a1a1a; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .dropdown-id { font-size: 0.8rem; color: #888; white-space: nowrap; overflow: hidden; text-overflow: ellipsis; }
        .dropdown-stats { font-size: 0.9rem; color: #333; font-weight: 600; }
        .dropdown-stats span { color: #5865F2; }
        .cart-btn { width: 100%; padding: 10px; background: #f0f0f0; color: #333; border-radius: 8px; font-weight: 700; font-size: 0.9rem; text-align: center; transition: 0.2s; }
        .cart-btn:hover { background: #e0e0e0; }
        .logout-btn { width: 100%; padding: 8px; background: #ff4757; color: #fff; border-radius: 8px; font-weight: 700; font-size: 0.85rem; text-align: center; }
        .logout-btn:hover { background: #e84118; }

        .modal-overlay { position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: rgba(0,0,0,0.5); z-index: 3000; display: none; justify-content: center; align-items: center; opacity: 0; transition: opacity 0.3s; }
        .modal-overlay.show { opacity: 1; }
        .login-modal { background: #fff; width: 340px; padding: 30px; border-radius: 20px; box-shadow: 0 10px 30px rgba(0,0,0,0.2); transform: scale(0.8); transition: transform 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275); position: relative; }
        .modal-overlay.show .login-modal { transform: scale(1); }
        .modal-close { position: absolute; top: 15px; right: 20px; font-size: 1.5rem; color: #999; cursor: pointer; }
        .modal-title { font-size: 1.5rem; font-weight: 800; margin-bottom: 25px; text-align: center; }
        .input-group { margin-bottom: 15px; }
        .input-group input { width: 100%; padding: 12px 15px; border: 1px solid #ddd; border-radius: 10px; font-size: 0.95rem; outline: none; transition: 0.3s; background: #f9f9f9; }
        .input-group input:focus { border-color: #5865F2; background: #fff; }
        .auto-login-wrapper { display: flex; align-items: center; gap: 8px; margin-bottom: 25px; cursor: pointer; user-select: none; font-size: 0.9rem; color: #666; }
        .checkbox-icon { width: 20px; height: 20px; border: 2px solid #ddd; border-radius: 6px; display: flex; align-items: center; justify-content: center; transition: 0.2s; background: #fff; }
        .checkbox-icon svg { width: 12px; height: 12px; fill: none; stroke: #fff; stroke-width: 3; stroke-linecap: round; stroke-linejoin: round; display: none; }
        .auto-login-wrapper input[type="checkbox"] { display: none; }
        .auto-login-wrapper input[type="checkbox"]:checked + .checkbox-icon { background: #5865F2; border-color: #5865F2; }
        .auto-login-wrapper input[type="checkbox"]:checked + .checkbox-icon svg { display: block; }
        .btn-login-submit { width: 100%; padding: 12px; background: #1a1a1a; color: #fff; border-radius: 50px; font-weight: 700; font-size: 1rem; margin-bottom: 20px; transition: 0.2s; }
        .btn-login-submit:hover { background: #333; }
        .social-divider { text-align: center; font-size: 0.8rem; color: #aaa; margin-bottom: 20px; position: relative; }
        .social-divider::before, .social-divider::after { content: ""; position: absolute; top: 50%; width: 30%; height: 1px; background: #eee; }
        .social-divider::before { left: 0; }
        .social-divider::after { right: 0; }
        .btn-discord-modal { width: 100%; padding: 12px; background: #5865F2; color: #fff; border-radius: 12px; font-weight: 700; display: flex; align-items: center; justify-content: center; gap: 10px; transition: 0.2s; }
        .btn-discord-modal:hover { background: #4752c4; }

        .banner-container { position: relative; width: 100%; height: 500px; overflow: hidden; background: #f0f0f0; }
        .slide-wrapper { display: flex; width: 100%; height: 100%; transition: transform 0.5s ease-in-out; }
        .slide { min-width: 100%; height: 100%; display: flex; flex-direction: column; justify-content: center; padding: 0; }
        .slide img { width: 100%; height: 100%; object-fit: cover; display: block; }
        .slider-dots { position: absolute; bottom: 15px; left: 50%; transform: translateX(-50%); display: flex; gap: 8px; }
        .dot { width: 8px; height: 8px; background: rgba(255,255,255,0.4); border-radius: 50%; cursor: pointer; transition: 0.3s; }
        .dot.active { background: #fff; transform: scale(1.2); }

        .recommend-section, .system-section, .latest-section { padding: 40px; max-width: 1400px; width: 90%; margin: 0 auto; }
        
        .recommend-section h3, .system-section h3, .latest-section h3 { font-size: 1.5rem; margin-bottom: 20px; padding-left: 12px; font-weight: 800; }
        .recommend-section h3 { border-left: 4px solid #5865F2; }
        .system-section h3 { border-left: 4px solid #1a1a1a; }
        .latest-section h3 { border-left: 4px solid #ff4757; }

        .recommend-card { background: #f8f9fa; border: 1px solid #eee; border-radius: 16px; padding: 30px; display: flex; align-items: center; gap: 30px; }
        .rec-img-placeholder { width: 100px; height: 100px; background: #e0e0e0; border-radius: 50%; display: flex; justify-content: center; align-items: center; font-size: 2rem; flex-shrink: 0; }
        .rec-info h4 { font-size: 1.3rem; margin-bottom: 8px; font-weight: 700; }
        .rec-info p { font-size: 0.9rem; color: #666; margin-bottom: 15px; }
        .rec-btn { color: #5865F2; font-weight: 700; }
        
        .system-scroll-container, .latest-scroll-container { display: flex; gap: 15px; overflow-x: auto; padding-bottom: 15px; scrollbar-width: none; scroll-snap-type: x mandatory; scroll-behavior: auto; }
        .system-scroll-container::-webkit-scrollbar, .latest-scroll-container::-webkit-scrollbar { display: none; }
        .system-card, .latest-card { flex: 0 0 240px; scroll-snap-align: start; }

        .system-card { height: 300px; background: #fff; border: 1px solid #eee; border-radius: 16px; padding: 20px; display: flex; flex-direction: column; justify-content: space-between; box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .sys-icon { width: 40px; height: 40px; background: #f0f0f0; border-radius: 10px; margin-bottom: 15px; display: flex; align-items: center; justify-content: center; font-size: 1.2rem; }
        .sys-title { font-weight: 700; margin-bottom: 8px; }
        .sys-desc { font-size: 0.85rem; color: #666; line-height: 1.5; }
        .sys-btn { padding: 8px; text-align: center; background: #1a1a1a; color: #fff; border-radius: 8px; font-size: 0.8rem; display: block; width: 100%; transition: 0.2s; }
        .sys-btn:hover { background: #333; }
        
        .latest-card { height: 280px; background: #fff; border: 1px solid #eee; border-radius: 16px; overflow: hidden; display: flex; flex-direction: column; box-shadow: 0 4px 10px rgba(0,0,0,0.03); }
        .latest-img { width: 100%; height: 160px; object-fit: cover; background: #eee; }
        .latest-info { padding: 15px; flex-grow: 1; display: flex; flex-direction: column; justify-content: space-between; }
        .latest-title { font-weight: 700; font-size: 1.1rem; margin-bottom: 10px; }
        .latest-btn { width: 100%; padding: 10px; background: #f0f0f0; color: #333; border-radius: 8px; font-weight: 700; font-size: 0.9rem; text-align: center; transition: 0.2s; }
        .latest-btn:hover { background: #e0e0e0; }

        .btn-loading-spinner { display: inline-block; width: 16px; height: 16px; border: 2px solid rgba(255,255,255,0.3); border-radius: 50%; border-top-color: #fff; animation: spin 1s linear infinite; }
        @keyframes spin { 0% { transform: rotate(0deg); } 100% { transform: rotate(360deg); } }

        .contact { min-height: 40vh; background: linear-gradient(180deg, #5865F2 0%, #050505 100%); color: #fff; text-align: center; padding: 80px 20px; margin-top: 40px; border-radius: 40px 40px 0 0; }
        .contact h2 { font-size: 2rem; margin-bottom: 15px; font-weight: 800; }
        .btn-large { padding: 15px 40px; background: #fff; color: #5865F2; border-radius: 50px; font-weight: 700; display: inline-block; box-shadow: 0 10px 20px rgba(0,0,0,0.3); }
        footer { padding: 40px; font-size: 0.75rem; color: #666; text-align: center; background: #050505; }

        /* ê´‘ê³  ê´€ë ¨ ìŠ¤íƒ€ì¼ */
        #top-ad-section {
            position: fixed;
            top: 0;
            width: 100%;
            z-index: 2000;
            background: #fff; 
            overflow: hidden;
            transition: height 0.5s ease-in-out;
            display: flex;
            align-items: stretch;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        #bottom-ad-section {
            margin-top: 40px;
            width: 100%;
            display: flex;
            gap: 20px;
            justify-content: center;
            max-width: 1400px;
            margin-left: auto;
            margin-right: auto;
        }

        /* íŒì—… ê´‘ê³  ìˆ˜ì •: Absolute ìœ„ì¹˜, í—¤ë”ë³´ë‹¤ ë‚®ì€ z-index */
        /*
        .ad-popup-floating {
            position: absolute; 
            left: 20px;
            width: 350px;
            max-width: 90vw;
            background: #fff;
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.15);
            z-index: 900; 
            overflow: hidden;
            display: flex;
            flex-direction: column;
            border: 1px solid rgba(0,0,0,0.05);
            transition: top 0.5s ease-in-out; 
        }
        
        .ad-popup-content-img {
            width: 100%;
            display: block;
            object-fit: cover;
            
        }
        
        .ad-popup-footer {
            height: 40px;
            background: #fff;
            display: flex;
            align-items: center;
            justify-content: space-between;
        }
        
        .ad-popup-footer button {
            flex: 1;
            height: 100%;
            font-size: 0.8rem;
            color: #333;
            font-weight: 500;
            cursor: pointer;
            transition: background 0.2s;
        }
        
        .ad-popup-footer button:hover {
            background: #f5f5f5;
        }
        
        .ad-popup-divider {
            width: 1px;
            height: 14px;
            background: #ddd;
        }

        .ad-item {
            position: relative;
            flex: 1;
            overflow: hidden;
            border-radius: 10px; 
        }
        .ad-item img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            display: block;
            cursor: pointer;
            border-radius: 10px;
        }
        .ad-item-link {
            display: block;
            width: 100%;
            height: 100%;
        }

        #top-ad-section .ad-item {
            margin: 0;
            border-radius: 10px;
        }
        
        #top-ad-section {
            padding: 5px; 
            gap: 5px;
        }
        
        .ad-control-container {
            position: absolute;
            top: 10px;
            right: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
            z-index: 10;
        }
        
        .ad-badge {
            background: rgba(0,0,0,0.4);
            color: #fff;
            padding: 4px 8px;
            border-radius: 6px;
            font-size: 0.7rem;
            font-weight: 700;
            backdrop-filter: blur(4px);
        }
        
        .ad-close-text-btn {
            background: rgba(255,255,255,0.9);
            color: #333;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.75rem;
            font-weight: 700;
            box-shadow: 0 2px 4px rgba(0,0,0,0.1);
            transition: 0.2s;
            display: flex;
            align-items: center;
        }
        
        .ad-close-text-btn:hover {
            background: #fff;
            transform: scale(1.05);
        }
        */

        @media (max-width: 768px) {
            body { padding-top: 55px; }
            header { height: 55px; padding: 0 20px; }
            .logo-container svg { height: 20px; }
            .nav-links { display: none; }
            .hamburger-btn { display: block; }
            .login-trigger-btn { padding: 6px 14px; font-size: 0.8rem; }
            .banner-container { height: 180px; } 
            .slide h2 { font-size: 1.8rem; }
            
            .recommend-section, .system-section, .latest-section { padding: 30px 10px; width: 100%; }
            .recommend-card { flex-direction: column; text-align: center; }
            .contact { border-radius: 30px 30px 0 0; }
            .user-dropdown { right: 20px; width: 240px; }
            .mobile-menu { top: 55px; border-radius: 0 0 20px 20px; }

            #bottom-ad-section { flex-direction: column; }
            .ad-popup-floating { width: calc(100% - 40px); left: 20px; }
        } 
    </style>
</head>
<body>

<div id="top-ad-section"></div>

<div id="popup-ad-section"></div>

<header id="mainHeader">
    <div class="logo-container" onclick="scrollToTop()">
        <svg version="1.0" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 454.000000 95.000000" preserveAspectRatio="xMidYMid meet">
            <g transform="translate(0.000000,95.000000) scale(0.100000,-0.100000)" fill="#000000" stroke="none">
                <path d="M110 725 l0 -75 254 0 254 0 43 -45 c24 -25 48 -45 54 -45 6 0 34 24 63 53 l52 53 -68 67 -68 67 -292 0 -292 0 0 -75z"/>
                <path d="M940 513 l1 -178 82 -92 81 -93 218 0 218 0 0 264 c0 231 -2 265 -16 270 -9 3 -144 6 -300 6 l-284 0 0 -177z m430 -88 l0 -175 -74 0 -73 0 -57 67 -56 67 0 102 c0 55 3 104 7 107 3 4 62 7 130 7 l123 0 0 -175z"/>
                <path d="M2350 516 l0 -175 83 -95 82 -94 218 -1 217 -1 -2 268 -3 267 -297 3 -298 2 0 -174z m438 -93 l2 -173 -77 0 -78 0 -57 71 -58 71 0 97 c0 54 3 101 7 105 4 3 63 5 132 4 l126 -3 3 -172z"/>
                <path d="M1640 410 l0 -270 263 0 263 0 43 44 c41 42 42 43 19 50 -13 3 -110 6 -215 6 l-193 0 0 175 0 175 178 0 178 0 25 28 c62 68 85 62 -255 62 l-306 0 0 -270z"/>
                <path d="M3080 615 l0 -65 213 0 213 0 34 -35 c19 -19 39 -35 45 -35 6 0 29 18 50 40 l39 40 -59 60 -59 60 -238 0 -238 0 0 -65z"/>
                <path d="M3780 410 l0 -270 224 0 224 0 70 113 c109 174 108 145 15 294 l-80 128 -226 3 -227 2 0 -270z m382 93 c62 -99 63 -84 -9 -194 l-44 -69 -79 0 -80 0 0 175 0 175 78 0 79 0 55 -87z"/>
                <path d="M510 295 l135 -135 110 0 110 0 -135 135 -135 135 -110 0 -110 0 135 -135z"/>
                <path d="M3355 318 c28 -29 75 -79 105 -111 l54 -57 96 0 95 0 -110 110 -110 110 -89 0 -90 0 49 -52z"/>
                <path d="M110 255 l0 -95 95 0 95 0 0 95 0 95 -95 0 -95 0 0 -95z"/>
                <path d="M3080 230 l0 -80 80 0 81 0 -3 78 -3 77 -77 3 -78 3 0 -81z"/>
            </g>
        </svg>
    </div>

    <div class="header-right">
        <nav class="nav-links">
            <a href="model.html">ëª¨ë¸</a>
            <a href="system.html">ì‹œìŠ¤í…œ</a>
            <a href="car.html">ì°¨ëŸ‰</a>
            <a href="shirt.html">ë³µì¥</a>
        </nav>

        <button id="headerLoginBtn" class="login-trigger-btn" onclick="openLoginModal()">
            <img id="userAvatar" class="user-avatar" src="" alt="">
            <span id="loginBtnText" class="profile-name">ë¡œê·¸ì¸</span>
        </button>

        <button class="hamburger-btn" onclick="toggleMobileMenu()">
            <span></span>
            <span></span>
            <span></span>
        </button>
    </div>
</header>

<div class="mobile-menu" id="mobileMenu">
    <a href="model.html">ëª¨ë¸</a>
    <a href="system.html">ì‹œìŠ¤í…œ</a>
    <a href="car.html">ì°¨ëŸ‰</a>
    <a href="shirt.html">ë³µì¥</a>
</div>

<div class="user-dropdown" id="userDropdown">
    <div class="dropdown-profile-header">
        <img id="dropdownAvatar" class="dropdown-avatar-large" src="" alt="Profile">
        <div class="dropdown-text-info">
            <div id="dropdownName" class="dropdown-name">ì‚¬ìš©ì</div>
            <div id="dropdownId" class="dropdown-id">@username</div>
        </div>
    </div>
    
    <div class="dropdown-stats">
        ë‚´ê°€ ë‹¤ìš´ë¡œë“œí•œ ëª¨ë¸: <span id="downloadCount">0</span>ê°œ
    </div>

    <button class="cart-btn" onclick="alert('ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥ì€ ì¶”í›„ ì—…ë°ì´íŠ¸ ì˜ˆì •ì…ë‹ˆë‹¤.')">ğŸ›’ ì¥ë°”êµ¬ë‹ˆ</button>
    <button class="logout-btn" onclick="logout()">ë¡œê·¸ì•„ì›ƒ</button>
</div>

<div class="modal-overlay" id="loginModalOverlay">
    <div class="login-modal">
        <span class="modal-close" onclick="closeLoginModal()">&times;</span>
        <h2 class="modal-title">ë¡œê·¸ì¸</h2>

        <div class="input-group">
            <input type="text" id="loginId" placeholder="ì•„ì´ë””">
        </div>
        <div class="input-group">
            <input type="password" id="loginPw" placeholder="ë¹„ë°€ë²ˆí˜¸">
        </div>

        <label class="auto-login-wrapper">
            <input type="checkbox">
            <span class="checkbox-icon">
                <svg viewBox="0 0 24 24"><polyline points="20 6 9 17 4 12"></polyline></svg>
            </span>
            ìë™ë¡œê·¸ì¸
        </label>

        <button class="btn-login-submit" onclick="handleLoginSubmit()">ë¡œê·¸ì¸</button>

        <div class="social-divider">ì†Œì…œ ë¡œê·¸ì¸</div>

        <button class="btn-discord-modal" onclick="loginWithDiscord()">
            <svg width="24" height="24" viewBox="0 0 127 96" fill="white">
                <path d="M107.7,8.07A105.15,105.15,0,0,0,81.47,0a72.06,72.06,0,0,0-3.36,6.83A97.68,97.68,0,0,0,49,6.83,72.37,72.37,0,0,0,45.64,0,105.89,105.89,0,0,0,19.39,8.09C2.79,32.65-1.71,56.6.54,80.21h0A105.73,105.73,0,0,0,32.71,96.36,77.11,77.11,0,0,0,39.6,85.25a68.42,68.42,0,0,1-10.85-5.18c.91-.66,1.8-1.34,2.66-2a75.57,75.57,0,0,0,64.32,0c.87.71,1.76,1.39,2.66,2a68.68,68.68,0,0,1-10.87,5.19,77,77,0,0,0,6.89,11.1A105.89,105.89,0,0,0,126.6,80.22h0C129.24,52.84,122.09,29.11,107.7,8.07ZM42.45,65.69C36.18,65.69,31,60,31,53s5-12.74,11.43-12.74S54,46,53.89,53,48.84,65.69,42.45,65.69Zm42.24,0C78.41,65.69,73.25,60,73.25,53s5-12.74,11.44-12.74S96.23,46,96.12,53,91.08,65.69,84.69,65.69Z"/>
            </svg>
            Discordë¡œ ë¡œê·¸ì¸
        </button>
    </div>
</div>

<div class="banner-container">
    <div class="slide-wrapper" id="slideWrapper">
        <div class="slide">
            <img src="https://6967a657d214301950ed7b2b.imgix.net/%EB%A1%9C%EC%BD%94%EB%93%9C%EB%B0%B0%EB%84%88.png" alt="Banner 1">
        </div>
        <div class="slide">
            <img src="https://6967a657d214301950ed7b2b.imgix.net/%EC%BF%A0%EC%83%B5%20%EB%B0%B0%EB%84%88.png" alt="Banner 2">
        </div>
    </div>
    <div class="slider-dots">
        <div class="dot active" onclick="moveToSlide(0)"></div>
        <div class="dot" onclick="moveToSlide(1)"></div>
    </div>
</div>

<section class="recommend-section">
    <h3>ğŸ”¥ ì´ë‹¬ì˜ ì¶”ì²œ ëª¨ë¸</h3>
    <div class="recommend-card">
        <div class="rec-img-placeholder">ğŸ”¥</div>
        <div class="rec-info">
            <h4>ì†Œë°©ë³µì¥ ì„¸íŠ¸</h4>
            <p>RP ì„œë²„ì— ê¼­í•„ìš”í•œ ì†Œë°© ë³µì¥ì„¸íŠ¸ì…ë‹ˆë‹¤. ë³µì¥ì„ ì ìš©í•˜ê³  ì‚¬ëª…ê°ì„ ëŠê»´ë³´ì„¸ìš”.</p>
            <a href="#" class="rec-btn" onclick="checkLoginAndDownload(event, this, 'firefighter_set.zip')">ì§€ê¸ˆ ë‹¤ìš´ë¡œë“œ &rarr;</a>
        </div>
    </div>
</section>

<section class="latest-section">
    <h3>ğŸ”¥ ë”°ëˆí•œ ìµœì‹  ëª¨ë¸</h3>
    <div class="latest-scroll-container" id="latestModelContainer">
        <p style="padding: 20px; color:#666; width:100%;">ëª¨ë¸ì„ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ì…ë‹ˆë‹¤...</p>
    </div>
</section>

<section class="system-section">
    <h3>ë°°í¬ ì‹œìŠ¤í…œ ëª©ë¡</h3>
    <div class="system-scroll-container" id="systemScrollContainer">
        <div class="system-card">
            <div>
                <div class="sys-icon">ğŸ“¦</div>
                <div class="sys-title">ê³ ìœ ë²ˆí˜¸ ì‹œìŠ¤í…œ</div>
                <p class="sys-desc">í•œêµ­ ìµœì´ˆ ë¬´ë£Œë°°í¬ ëœ ê³ ìœ ë²ˆí˜¸ ì‹œìŠ¤í…œ ì…ë‹ˆë‹¤.</p>
            </div>
            <button class="sys-btn" onclick="checkLoginAndDownload(event, this, 'system_unique_id.zip')">ë‹¤ìš´ë¡œë“œ</button>
        </div>
        
        <div class="system-card">
            <div>
                <div class="sys-icon">ğŸ›¡ï¸</div>
                <div class="sys-title">ìë™í™”ì¬ ì‹œìŠ¤í…œ</div>
                <p class="sys-desc">RPì— ê¼­í•„ìš”í•œ í™”ì¬ ì‹œìŠ¤í…œ ì…ë‹ˆë‹¤.</p>
            </div>
            <button class="sys-btn" onclick="checkLoginAndDownload(event, this, 'system_fire.zip')">ë‹¤ìš´ë¡œë“œ</button>
        </div>
        
        <div class="system-card">
            <div>
                <div class="sys-icon">ğŸ›’</div>
                <div class="sys-title">ì ìˆ˜ê°ì§€ ì‹œìŠ¤í…œ</div>
                <p class="sys-desc">ìë™ìœ¼ë¡œ ì ìˆ˜ë¥¼ ê°ì§€í•˜ì—¬ UIë¡œ í‘œì‹œí•©ë‹ˆë‹¤.</p>
            </div>
            <button class="sys-btn" onclick="checkLoginAndDownload(event, this, 'system_afk.zip')">ë‹¤ìš´ë¡œë“œ</button>
        </div>

        <div class="system-card">
            <div>
                <div class="sys-icon">ğŸ’¬</div>
                <div class="sys-title">INSì‹œìŠ¤í…œ</div>
                <p class="sys-desc">RPìš”ì†Œì— ê¼­ í•„ìš”í•œ ì°¨ëŸ‰ì†Œí™˜ ì‹œìŠ¤í…œ ì…ë‹ˆë‹¤.</p>
            </div>
            <button class="sys-btn" onclick="checkLoginAndDownload(event, this, 'system_ins.zip')">ë‹¤ìš´ë¡œë“œ</button>
        </div>

        <div class="system-card">
            <div>
                <div class="sys-icon">ğŸšŒ</div>
                <div class="sys-title">ë²„ìŠ¤íƒ‘ìŠ¹ ì‹œìŠ¤í…œ</div>
                <p class="sys-desc">ìŠ¤ë§ˆíŠ¸í•˜ê²Œ ë²„ìŠ¤ì— íƒ‘ìŠ¹í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>
            </div>
            <button class="sys-btn" onclick="checkLoginAndDownload(event, this, 'system_bus.zip')">ë‹¤ìš´ë¡œë“œ</button>
        </div>
    </div>
</section>

<section id="contact" class="contact">
    <div class="section-inner">
        <h2>ì§€ê¸ˆ ë°”ë¡œ<br>Rocordì— í•©ë¥˜í•˜ì„¸ìš”.</h2>
        <a href="https://discord.gg/NC4DQ3Cet9" target="_blank" class="btn-large">ë””ìŠ¤ì½”ë“œ ì…ì¥í•˜ê¸°</a>
    </div>
    
    <div id="bottom-ad-section"></div>
</section>

<footer>
    Â© 2025-2026 Rocord Deploy. All Rights Reserved.
</footer>

<script>
    
    const adConfig = [
        /*
        {
            location: 'top', 
            image: 'https://6967a657d214301950ed7b2b.imgix.net/%EC%BF%A0%EC%83%B5%20%EB%B0%B0%EB%84%88.png', 
            link: 'https://google.com',
            ratio: '8/1'
        },
        */
        /*
        {
            location: 'top',
            image: 'https://via.placeholder.com/800x100/5865F2/ffffff?text=Top+Ad+2',
            link: 'https://discord.com',
            ratio: '8/1'
        },
        */
        /*
        {
            location: 'bottom',
            image: 'https://6967a657d214301950ed7b2b.imgix.net/%EC%BF%A0%EC%83%B5%20%EB%B0%B0%EB%84%88.png',
            link: 'https://naver.com',
            ratio: '4/1'
        }, */
        /*
        {
            location: 'bottom',
            image: 'https://6967a657d214301950ed7b2b.imgix.net/%EC%BF%A0%EC%83%B5%20%EB%B0%B0%EB%84%88.png',
            link: 'https://youtube.com',
            ratio: '4/1'
        },
        {
            location: 'popup',
            image: 'https://6967a657d214301950ed7b2b.imgix.net/%EC%BF%A0%EC%83%B5%20%EB%B0%B0%EB%84%88.png',
            link: 'https://example.com',
            ratio: '1/1' // íŒì—… ì´ë¯¸ì§€ ë¹„ìœ¨
        }*/
        
    ];  

    const CLIENT_ID = '1460856182716502036';
    const REDIRECT_URI = 'https://rocorddev.kro.kr'; 
    const BACKEND_URL = 'https://rocorddev.pythonanywhere.com';

    let isLoggedIn = false;
    let currentUserToken = null;

    window.onload = function() {
        const fragment = new URLSearchParams(window.location.hash.slice(1));
        const accessToken = fragment.get('access_token');
        const storedToken = localStorage.getItem('discord_token');

        if (accessToken) {
            localStorage.setItem('discord_token', accessToken);
            window.history.replaceState({}, document.title, window.location.pathname);
            loginToBackend(accessToken);
        } else if (storedToken) {
            loginToBackend(storedToken);
        }

        initSlider();
        initLatestModels();
        setupInfiniteScroll('systemScrollContainer', 255);
        
        renderAds();

        document.addEventListener('click', function(e) {
            const dropdown = document.getElementById('userDropdown');
            const headerBtn = document.getElementById('headerLoginBtn');
            const hamburger = document.querySelector('.hamburger-btn');
            const mobileMenu = document.getElementById('mobileMenu');
            const modalOverlay = document.getElementById('loginModalOverlay');
            
            if (!dropdown.contains(e.target) && !headerBtn.contains(e.target)) {
                dropdown.classList.remove('active');
            }
            if (!hamburger.contains(e.target) && !mobileMenu.contains(e.target)) {
                mobileMenu.classList.remove('active');
                hamburger.classList.remove('active');
            }
            if (e.target === modalOverlay) {
                closeLoginModal();
            }
        });
    };

    function toggleMobileMenu() {
        const btn = document.querySelector('.hamburger-btn');
        const menu = document.getElementById('mobileMenu');
        btn.classList.toggle('active');
        menu.classList.toggle('active');
    }

    function openLoginModal() {
        if (isLoggedIn) {
            document.getElementById('userDropdown').classList.toggle('active');
        } else {
            const modal = document.getElementById('loginModalOverlay');
            modal.style.display = 'flex';
            setTimeout(() => { modal.classList.add('show'); }, 10);
        }
    }

    function closeLoginModal() {
        const modal = document.getElementById('loginModalOverlay');
        modal.classList.remove('show');
        setTimeout(() => { modal.style.display = 'none'; }, 300);
    }

    function handleLoginSubmit() {
        const id = document.getElementById('loginId').value;
        const pw = document.getElementById('loginPw').value;

        if (!id || !pw) {
            alert("ì•„ì´ë””ì™€ ë¹„ë°€ë²ˆí˜¸ë¥¼ ì…ë ¥í•´ì£¼ì„¸ìš”.");
            return;
        }

        fetch(`${BACKEND_URL}/api/admin/login`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ id: id, pw: pw })
        })
        .then(res => res.json())
        .then(data => {
            if(data.success) {
                localStorage.setItem('admin_token', data.token);
                alert("ê´€ë¦¬ìë‹˜ í™˜ì˜í•©ë‹ˆë‹¤.");
                window.location.href = 'upload.html';
            } else {
                alert("ë¡œê·¸ì¸ ì •ë³´ê°€ ì˜¬ë°”ë¥´ì§€ ì•ŠìŠµë‹ˆë‹¤.");
            }
        })
        .catch(err => {
            console.error(err);
            alert("ì„œë²„ ì—°ê²° ì˜¤ë¥˜ì…ë‹ˆë‹¤.");
        });
    }

    function loginToBackend(token) {
        fetch(`${BACKEND_URL}/api/login`, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify({ access_token: token })
        })
        .then(res => res.json())
        .then(data => {
            if(data.error) throw new Error(data.error);
            currentUserToken = token;
            isLoggedIn = true;
            updateUI(data);
            closeLoginModal();
        })
        .catch(error => {
            console.error(error);
            logout();
        });
    }

    function updateUI(data) {
        const loginText = document.getElementById('loginBtnText');
        const avatar = document.getElementById('userAvatar');
        const btn = document.getElementById('headerLoginBtn');

        loginText.innerText = data.global_name || data.username;
        avatar.style.display = 'block';
        let avatarUrl = "https://cdn.discordapp.com/embed/avatars/0.png";
        if (data.avatar) {
            avatarUrl = `https://cdn.discordapp.com/avatars/${data.id}/${data.avatar}.png`;
        }
        avatar.src = avatarUrl;
        
        btn.style.background = "transparent"; 
        btn.style.color = "#1a1a1a";
        btn.style.border = "1px solid #ddd";

        document.getElementById('dropdownAvatar').src = avatarUrl;
        document.getElementById('dropdownName').innerText = data.global_name || data.username;
        document.getElementById('dropdownId').innerText = '@' + data.username;
        document.getElementById('downloadCount').innerText = data.download_count || 0;
    }

    function loginWithDiscord() {
        const oauthUrl = `https://discord.com/oauth2/authorize?client_id=${CLIENT_ID}&redirect_uri=${encodeURIComponent(REDIRECT_URI)}&response_type=token&scope=identify`;
        window.location.href = oauthUrl;
    }

    function logout() {
        localStorage.removeItem('discord_token');
        isLoggedIn = false;
        currentUserToken = null;
        location.reload();
    }

    function checkLoginAndDownload(event, btnElement, targetId) {
        event.preventDefault();
        if (!isLoggedIn || !currentUserToken) {
            alert("ğŸ”’ ë¡œê·¸ì¸ì´ í•„ìš”í•œ ì„œë¹„ìŠ¤ì…ë‹ˆë‹¤.");
            openLoginModal();
            return;
        }
        
        const originalText = btnElement.innerHTML;
        btnElement.innerHTML = '<span class="btn-loading-spinner"></span>';
        btnElement.disabled = true;
        
        fetch(`${BACKEND_URL}/api/request_download`, {
            method: 'POST',
            headers: { 
                'Content-Type': 'application/json',
                'Authorization': `Bearer ${currentUserToken}` 
            },
            body: JSON.stringify({ target_id: targetId })
        })
        .then(res => res.json())
        .then(data => {
            if(data.url) {
                window.location.href = data.url;
                let countSpan = document.getElementById('downloadCount');
                if(countSpan) countSpan.innerText = parseInt(countSpan.innerText) + 1;
            } else {
                alert("ë§í¬ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
            }
        })
        .catch(error => {
            alert("ë‹¤ìš´ë¡œë“œ ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤.");
        })
        .finally(() => {
            setTimeout(() => {
                btnElement.innerHTML = originalText;
                btnElement.disabled = false;
            }, 2000);
        });
    }

    function initLatestModels() {
        const container = document.getElementById('latestModelContainer');
        fetch(`${BACKEND_URL}/api/models`)
        .then(res => res.json())
        .then(data => {
            const latest = data.slice().reverse().slice(0, 5);
            if(latest.length === 0) {
                container.innerHTML = '<p style="padding:20px;">ë“±ë¡ëœ ìµœì‹  ëª¨ë¸ì´ ì—†ìŠµë‹ˆë‹¤.</p>';
                return;
            }
            container.innerHTML = ''; 
            latest.forEach(model => {
                const imgSrc = model.image || 'https://via.placeholder.com/240x160?text=No+Image';
                const modelName = model.name;
                const cardHtml = `
                    <div class="latest-card">
                        <img src="${imgSrc}" alt="${modelName}" class="latest-img">
                        <div class="latest-info">
                            <div class="latest-title">${modelName}</div>
                            <button class="latest-btn" onclick="checkLoginAndDownload(event, this, '${modelName}')">ë‹¤ìš´ë¡œë“œ</button>
                        </div>
                    </div>
                `;
                container.innerHTML += cardHtml;
            });
            setupInfiniteScroll('latestModelContainer', 255);
        })
        .catch(err => {
            console.error(err);
            container.innerHTML = '<p style="padding:20px; color:red;">ëª¨ë¸ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ”ë° ì‹¤íŒ¨í–ˆìŠµë‹ˆë‹¤.</p>';
        });
    }

    function setupInfiniteScroll(containerId, itemWidth) {
        const container = document.getElementById(containerId);
        if (!container || container.children.length === 0) return;
        const items = Array.from(container.children);
        const originalItemCount = items.length;
        items.forEach(item => container.appendChild(item.cloneNode(true)));
        items.forEach(item => container.appendChild(item.cloneNode(true)));
        const oneSetWidth = originalItemCount * itemWidth;
        setInterval(() => {
            container.style.scrollBehavior = 'smooth';
            container.scrollBy({ left: itemWidth * 2 });
            setTimeout(() => { container.style.scrollBehavior = 'auto'; }, 600);
        }, 4000);
        container.addEventListener('scroll', () => {
            if (container.scrollLeft >= oneSetWidth) {
                container.style.scrollBehavior = 'auto';
                container.scrollLeft -= oneSetWidth;
            }
        });
        let isDown = false;
        let startX;
        let scrollLeft;
        container.addEventListener('mousedown', (e) => {
            isDown = true;
            container.style.cursor = 'grabbing';
            startX = e.pageX - container.offsetLeft;
            scrollLeft = container.scrollLeft;
            container.style.scrollSnapType = 'none';
        });
        const stopDrag = () => {
            if(!isDown) return;
            isDown = false;
            container.style.cursor = 'grab';
            container.style.scrollSnapType = 'x mandatory';
        };
        container.addEventListener('mouseleave', stopDrag);
        container.addEventListener('mouseup', stopDrag);
        container.addEventListener('mousemove', (e) => {
            if (!isDown) return;
            e.preventDefault(); 
            const x = e.pageX - container.offsetLeft;
            const walk = (x - startX) * 1.5;
            container.scrollLeft = scrollLeft - walk;
        });
    }

    function scrollToTop() { window.scrollTo({ top: 0, behavior: "smooth" }); }

    function initSlider() {
        const slideWrapper = document.getElementById('slideWrapper');
        if(!slideWrapper) return;
        const dots = document.querySelectorAll('.dot');
        const totalSlides = 2; 
        let currentSlide = 0;
        if(slideWrapper.children.length === 2) {
            const firstClone = slideWrapper.firstElementChild.cloneNode(true);
            firstClone.classList.add('clone');
            slideWrapper.appendChild(firstClone);
        }
        function updateSlider(withTransition = true) {
            slideWrapper.style.transition = withTransition ? 'transform 0.5s ease-in-out' : 'none';
            slideWrapper.style.transform = `translateX(-${currentSlide * 100}%)`;
            dots.forEach((dot, index) => {
                dot.classList.toggle('active', index === (currentSlide % totalSlides));
            });
        }
        function nextSlide() {
            currentSlide++;
            updateSlider(true);
            if (currentSlide === totalSlides) {
                setTimeout(() => {
                    currentSlide = 0;
                    updateSlider(false);
                }, 500);
            }
        }
        setInterval(nextSlide, 4000);
    }

    let currentTopAdsData = [];

    function renderAds() {
        const topSection = document.getElementById('top-ad-section');
        const bottomSection = document.getElementById('bottom-ad-section');
        const popupSection = document.getElementById('popup-ad-section');

        const topAds = adConfig.filter(ad => ad.location === 'top');
        const bottomAds = adConfig.filter(ad => ad.location === 'bottom');
        const popupAds = adConfig.filter(ad => ad.location === 'popup');

        if (topAds.length > 0) {
            currentTopAdsData = [...topAds];
            topSection.innerHTML = ''; 

            currentTopAdsData.forEach((ad, index) => {
                const div = document.createElement('div');
                div.className = 'ad-item';
                div.id = `top-ad-item-${index}`;
                div.innerHTML = `
                    <div class="ad-control-container">
                        <span class="ad-badge">ê´‘ê³ </span>
                        <button class="ad-close-text-btn" onclick="closeSingleTopAd('${div.id}')">ë‹«ê¸° âœ•</button>
                    </div>
                    <a href="${ad.link}" target="_blank" class="ad-item-link">
                        <img src="${ad.image}" alt="Top Ad">
                    </a>
                `;
                topSection.appendChild(div);
            });
            updateTopAdLayout();
            window.addEventListener('resize', updateTopAdLayout);
        }

        if (bottomAds.length > 0) {
            bottomAds.forEach((ad, index) => {
                const div = document.createElement('div');
                div.className = 'ad-item';
                div.id = `bottom-ad-${index}`;
                div.innerHTML = `
                    <div class="ad-control-container">
                        <span class="ad-badge">ê´‘ê³ </span>
                        <button class="ad-close-text-btn" onclick="closeBottomAd('${div.id}')">ë‹«ê¸° âœ•</button>
                    </div>
                    <a href="${ad.link}" target="_blank" class="ad-item-link">
                        <img src="${ad.image}" alt="Bottom Ad">
                    </a>
                `;
                bottomSection.appendChild(div);
            });
        }

        // íŒì—… ê´‘ê³  ì²˜ë¦¬
        const hideDate = localStorage.getItem('hidePopupDate');
        const todayDate = new Date().toDateString();

        if (popupAds.length > 0 && hideDate !== todayDate) {
            const ad = popupAds[0];
            
            // ë¹„ìœ¨ ê³„ì‚° ë¡œì§ (ê¸°ë³¸ê°’ 1/1)
            let imgHeight = 'auto';
            if (ad.ratio) {
                const [w, h] = ad.ratio.split('/').map(Number);
                if (!isNaN(w) && !isNaN(h) && w > 0) {
                    // íŒì—…ì˜ ê³ ì • ë„ˆë¹„ëŠ” CSSì—ì„œ 350px (ëª¨ë°”ì¼ì—ì„œëŠ” max 90vw)
                    // ì •í™•í•œ ë†’ì´ë¥¼ ìœ„í•´ ë Œë”ë§ í›„ ê³„ì‚°í•˜ê±°ë‚˜, CSS ë³€ìˆ˜ë¡œ ì²˜ë¦¬ ê°€ëŠ¥í•˜ì§€ë§Œ
                    // ì—¬ê¸°ì„œëŠ” inline styleë¡œ heightë¥¼ ê°•ì œí•©ë‹ˆë‹¤.
                    // í™”ë©´ ë¡œë”© ì‹œì  ê¸°ì¤€ 350px ê°€ì •. ë°˜ì‘í˜•ì€ CSS object-fitìœ¼ë¡œ ì»¤ë²„.
                    const baseWidth = window.innerWidth > 768 ? 350 : Math.min(window.innerWidth - 40, 350);
                    imgHeight = (baseWidth / w * h) + 'px';
                }
            }

            const popupHtml = `
                <div class="ad-popup-floating" id="adPopupFloating">
                    <a href="${ad.link}" target="_blank">
                        <img src="${ad.image}" alt="Popup Ad" class="ad-popup-content-img" style="height: ${imgHeight};">
                    </a>
                    <div class="ad-popup-footer">
                        <button onclick="closePopupAd(true)">1ì¼ ë™ì•ˆ ë³´ì§€ ì•ŠìŒ</button>
                        <div class="ad-popup-divider"></div>
                        <button onclick="closePopupAd(false)">ë‹«ê¸°</button>
                    </div>
                </div>
            `;
            popupSection.innerHTML = popupHtml;
            
            // íŒì—… ìƒì„± ì§í›„ ìœ„ì¹˜ ì¡°ì • ì‹¤í–‰
            setTimeout(updateTopAdLayout, 0); 
        }
    }

    function updateTopAdLayout() {
        const topSection = document.getElementById('top-ad-section');
        const children = topSection.children;
        const count = children.length;
        let sectionHeight = 0;

        if (count > 0) {
            const ratioStr = adConfig.find(ad => ad.location === 'top').ratio || '8/1';
            const [w, h] = ratioStr.split('/').map(Number);
            const ratio = w / h;
            const totalWidth = topSection.clientWidth - (count * 5) - 5; 
            const itemWidth = totalWidth / count;
            sectionHeight = itemWidth / ratio;
            
            topSection.style.height = (sectionHeight + 10) + 'px';
        } else {
            topSection.style.height = '0px';
            topSection.style.padding = '0px'; 
        }

        const headerTop = count > 0 ? (sectionHeight + 10) : 0;
        document.getElementById('mainHeader').style.top = headerTop + 'px';
        document.body.style.paddingTop = (60 + headerTop) + 'px';
        
        const dropdown = document.getElementById('userDropdown');
        if(dropdown) dropdown.style.top = (60 + headerTop) + 'px';
        
        const mobileMenu = document.getElementById('mobileMenu');
        if(mobileMenu) mobileMenu.style.top = (60 + headerTop) + 'px';

        // íŒì—… ìœ„ì¹˜ ì—…ë°ì´íŠ¸ (ì™¼ìª½ ìœ„, íƒ‘ë°” ì•„ë˜)
        const popup = document.getElementById('adPopupFloating');
        if(popup) {
            // í—¤ë”ì˜ ë°”ë‹¥ ìœ„ì¹˜ = headerTop + í—¤ë”ë†’ì´(60)
            // ì—¬ê¸°ì— ì—¬ë°± 20px ì¶”ê°€
            popup.style.top = (headerTop + 60 + 20) + 'px';
        }
    }

    function closeSingleTopAd(elementId) {
        const element = document.getElementById(elementId);
        if(element) {
            element.remove();
            updateTopAdLayout(); 
        }
    }

    function closeBottomAd(elementId) {
        const element = document.getElementById(elementId);
        if(element) {
            element.remove();
        }
    }

    function closePopupAd(hideForToday) {
        const popup = document.getElementById('adPopupFloating');
        if(popup) {
            popup.style.transition = 'opacity 0.3s, transform 0.3s';
            popup.style.opacity = '0';
            popup.style.transform = 'translateY(-20px)'; // ìœ„ë¡œ ì‚¬ë¼ì§€ëŠ” íš¨ê³¼
            
            if (hideForToday) {
                const today = new Date().toDateString();
                localStorage.setItem('hidePopupDate', today);
            }

            setTimeout(() => {
                popup.remove();
            }, 300);
        }
    } 
</script>

<div id="my-chat-widget-wrapper">
    
    <div id="chat-window">
        <div class="iframe-container">
            <iframe src="https://rocorddev.kro.kr/chathelp" frameborder="0"></iframe>
        </div>
    </div>

    <div id="chat-button" onclick="toggleChat()">
        <img id="widget-icon-img" src="https://i.postimg.cc/zBXbMQkt/geulim1-png7777.png" alt="ìƒë‹´">
        <div id="widget-icon-close">Ã—</div>
    </div>

</div>

<style>
    /* --- CSS ìŠ¤íƒ€ì¼ --- */

    #my-chat-widget-wrapper {
        font-family: sans-serif;
    }

    /* 1. ë©”ì¸ ë²„íŠ¼ ìŠ¤íƒ€ì¼ */
    #chat-button {
        position: fixed;
        bottom: 20px;
        right: 20px;
        z-index: 10001; /* ì°½ë³´ë‹¤ ìœ„ì— ìˆì–´ì•¼ í•¨ */
        
        width: 55px;
        height: 55px;
        
        background: white;
        border-radius: 20px;
        
        /* [ìˆ˜ì •ë¨] ë„¤ ë°©í–¥ ê·¸ë¦¼ì ì„¤ì • */
        /* xì¶•:0, yì¶•:0, íë¦¼:15px, í™•ì‚°:4px, ìƒ‰ìƒ:ê²€ì •íˆ¬ëª…ë„20% */
        box-shadow: 0 0 15px 4px rgba(0, 0, 0, 0.2); 
        
        cursor: pointer;
        
        /* ë‚´ìš©ë¬¼ ì •ë ¬ */
        display: flex;
        justify-content: center;
        align-items: center;
        
        transition: transform 0.1s ease-in-out, background-color 0.2s, box-shadow 0.2s;
        overflow: hidden; /* ì´ë¯¸ì§€ê°€ ë²„íŠ¼ ë°–ìœ¼ë¡œ ë‚˜ê°€ì§€ ì•Šë„ë¡ ì„¤ì • */
    }

    /* ë²„íŠ¼ì„ ëˆŒë €ì„ ë•Œ(Active) ì‘ì•„ì§€ëŠ” íš¨ê³¼ */
    #chat-button:active {
        transform: scale(0.9); /* 90% ì¶•ì†Œ */
        /* ëˆŒë €ì„ ë•Œ ê·¸ë¦¼ìë„ ì‚´ì§ ì¤„ì–´ë“¤ê²Œ í•˜ì—¬ ë¦¬ì–¼í•¨ ì¶”ê°€ */
        box-shadow: 0 0 5px 2px rgba(0, 0, 0, 0.3); 
    }

    /* ë²„íŠ¼ ë‚´ë¶€ ì´ë¯¸ì§€ */
    #widget-icon-img {
        width: 100%;
        height: 100%;
        object-fit: cover; /* ì´ë¯¸ì§€ê°€ ë²„íŠ¼ì— ê½‰ ì°¨ê²Œ ì¡°ì ˆ */
        display: block;
        transition: opacity 0.2s;
    }

    /* ë²„íŠ¼ ë‚´ë¶€ ë‹«ê¸°(X) ì•„ì´ì½˜ */
    #widget-icon-close {
        display: none; /* ê¸°ë³¸ ìˆ¨ê¹€ */
        font-size: 32px;
        color: #555;
        line-height: 1;
        font-weight: 300;
    }

    /* 2. ìƒíƒœ ë³€í™” (ì°½ì´ ì—´ë ¸ì„ ë•Œ) */
    
    /* ì—´ë¦¼ ìƒíƒœ: ì´ë¯¸ì§€ëŠ” ìˆ¨ê¸°ê³  */
    #chat-button.is-open #widget-icon-img {
        display: none;
    }
    
    /* ì—´ë¦¼ ìƒíƒœ: X ì•„ì´ì½˜ì€ ë³´ì´ê³  */
    #chat-button.is-open #widget-icon-close {
        display: block;
    }
    /* ì—´ë¦¼ ìƒíƒœ ë°°ê²½ ë³€ê²½ */
    #chat-button.is-open {
        background-color: #f0f0f0;
    }


    /* 3. ì±„íŒ… ì°½ ìŠ¤íƒ€ì¼ */
    #chat-window {
        position: fixed;
        bottom: 90px;
        right: 20px;
        z-index: 10000;
        
        width: 380px;
        height: 600px;
        max-width: calc(100% - 40px);
        max-height: calc(100% - 110px);
        
        background-color: white;
        border-radius: 25px;
        /* ì°½ ê·¸ë¦¼ìë„ ì‚´ì§ ì§„í•˜ê²Œ */
        box-shadow: 0 5px 30px rgba(0,0,0,0.2);
        overflow: hidden;
        
        /* ì• ë‹ˆë©”ì´ì…˜ */
        opacity: 0;
        visibility: hidden;
        transform: translateY(20px);
        transition: all 0.3s cubic-bezier(0.25, 1, 0.5, 1);
    }

    /* ì±„íŒ… ì°½ í™œì„±í™” í´ë˜ìŠ¤ */
    #chat-window.window-visible {
        opacity: 1;
        visibility: visible;
        transform: translateY(0);
    }

    /* ì•„ì´í”„ë ˆì„ */
    .iframe-container {
        width: 100%;
        height: 100%;
    }
    .iframe-container iframe {
        width: 100%;
        height: 100%;
        display: block;
    }

    /* ëª¨ë°”ì¼ ë°˜ì‘í˜• ì¶”ê°€ (48ë²ˆ íŒŒì¼ ìŠ¤íƒ€ì¼ ì ìš© ë° ì±„íŒ… ì „ì²´í™”ë©´) */
    @media (max-width: 768px) {
        /* 48ë²ˆ íŒŒì¼ ìŠ¤íƒ€ì¼ ì ìš© */
        .recommend-section, .system-section, .latest-section { 
            padding: 30px 10px;  /* íŒ¨ë”©ì„ 10pxë¡œ ì¤„ì„ */
            width: 100%;         /* ë„ˆë¹„ë¥¼ 100%ë¡œ ì„¤ì • */
        }

        /* ì±„íŒ…ì°½ ëª¨ë°”ì¼ ì „ì²´í™”ë©´ ì„¤ì • */
        #chat-window {
            width: 100% !important;
            height: 100% !important;
            max-width: 100% !important;
            max-height: 100% !important;
            bottom: 0 !important;
            right: 0 !important;
            top: 0 !important;
            left: 0 !important;
            border-radius: 0 !important;
            z-index: 10000;
        }

        /* ëª¨ë°”ì¼ì—ì„œ ë²„íŠ¼ ìœ„ì¹˜ */
        #chat-button {
            bottom: 20px;
            right: 20px;
        }
    }
</style>

<script>
    /* --- JavaScript ë¡œì§ --- */
    
    function toggleChat() {
        const chatWindow = document.getElementById('chat-window');
        const chatBtn = document.getElementById('chat-button');
        
        // ì°½ ì—´ê¸°/ë‹«ê¸°
        chatWindow.classList.toggle('window-visible');
        
        // ë²„íŠ¼ ì•„ì´ì½˜ ë³€ê²½
        chatBtn.classList.toggle('is-open');
    }

</script>
</body>
</html>
